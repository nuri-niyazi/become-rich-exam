(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,n){e.exports=n(52)},31:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n.n(s),o=n(24),i=n.n(o),a=(n(31),n(11)),c=n(3),l=n(4),u=n(6),d=n(5),f=n(7),h=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).onHandleClick=function(e){"function"===typeof n.props.onSelectAnswer&&n.props.onSelectAnswer(e)},n.state={allAnswers:n.props.allAnswers},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.allAnswers!==this.props.allAnswers&&this.setState({allAnswers:e.allAnswers})}},{key:"render",value:function(){var e=this,t=["A: ","B: ","C: ","D: "],n=this.state.allAnswers.map(function(n,s){return r.a.createElement("button",{className:"answerButton",key:n,disabled:!e.props.canAnswer[s],onClick:function(){return e.onHandleClick(s)}},t[s],n)});return r.a.createElement("div",{className:"answerContainer"},n)}}]),t}(s.Component),p={currentLevel:["50","100","200","300","500","700","1 000","1 500","2 000","2 500","5 000","10 000","15 000","20 000","100 000"],guaranteedAmounts:[0,0,0,0,0,500,500,500,500,500,2500,2500,2500,2500,1e5]},m=n(10),A=n(8),w=function(e){function t(){var e,n;Object(c.a)(this,t);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).onHandleFiftyFifty=function(){"function"===typeof n.props.onClickFiftyFifty&&n.props.onClickFiftyFifty()},n.onHandlePhoneFriend=function(){"function"===typeof n.props.onClickPhoneFriend&&n.props.onClickPhoneFriend()},n.onHandleAskAudience=function(){"function"===typeof n.props.onClickAskAudience&&n.props.onClickAskAudience()},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.canUseLifelines!==this.props.canUseLifelines&&this.setState({canUseLifelines:e.canUseLifelines})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"margin-10"},r.a.createElement("button",{className:"jokerBtn",disabled:this.props.usedLifelines[0],onClick:function(){return e.onHandleFiftyFifty()}},r.a.createElement(m.a,{icon:A.a,title:"50:50",color:this.props.usedLifelines[0]?"red":"white",size:"2x"})),r.a.createElement("button",{className:"jokerBtn",disabled:this.props.usedLifelines[1],onClick:function(){return e.onHandlePhoneFriend()}},r.a.createElement(m.a,{icon:A.b,title:"Phone a Friend",color:this.props.usedLifelines[1]?"red":"white",size:"2x"})),r.a.createElement("button",{className:"jokerBtn",disabled:this.props.usedLifelines[2],onClick:function(){return e.onHandleAskAudience()}},r.a.createElement(m.a,{icon:A.c,title:"Ask the Audience",color:this.props.usedLifelines[2]?"red":"white",size:"2x"})))}}]),t}(s.Component),v=n(25),k=n.n(v),y=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).onHandleFiftyFifty=function(){"function"===typeof n.props.onClickFiftyFifty&&n.props.onClickFiftyFifty()},n.onHandlePhoneFriend=function(){"function"===typeof n.props.onClickPhoneFriend&&n.props.onClickPhoneFriend()},n.onHandleAskAudience=function(){"function"===typeof n.props.onClickAskAudience&&n.props.onClickAskAudience()},n.state={scores:n.props.scores},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){(e.scores!==this.props.scores&&this.setState({scores:e.scores}),this.props.scores)&&(document.querySelector(".currentLevel").style.transform="translate(0, ".concat(-30*this.state.scores,"px)"))}},{key:"render",value:function(){var e=p.currentLevel.slice(0).length,t=p.currentLevel.slice(0).reverse().map(function(t,n){return r.a.createElement("div",{key:t,className:k()({"level-row":!0,"color-white":n%5===0,"color-orange":n%5!==0})},r.a.createElement("span",{className:"number1"}," ",e-n),r.a.createElement("span",null,t))});return r.a.createElement("div",{className:"scorePanel"},r.a.createElement("div",{className:"winning"},r.a.createElement(w,{usedLifelines:this.props.usedLifelines,onClickFiftyFifty:this.props.onClickFiftyFifty,onClickPhoneFriend:this.props.onClickPhoneFriend,onClickAskAudience:this.props.onClickAskAudience}),t,this.state.scores?r.a.createElement("span",{className:"currentLevel"}):null))}}]),t}(s.Component),b=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).state={question:n.props.question},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({question:e.question})}},{key:"render",value:function(){return r.a.createElement("div",{className:"question"},r.a.createElement("p",null,this.state.question))}}]),t}(s.Component),g={EASY:"easy",MEDIUM:"medium",HARD:"hard"},C=n(13),F=n.n(C),L=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(d.a)(t).call(this,e))).startGame=function(){n.prepareQuestion([!0,!0,!0]),n.setState({text:"Hello! This is your first question!",scores:0,usedLifelines:[!1,!1,!1]})},n.getQuestion=function(){n.sessionToken?n.retrieveQuestions():F.a.get("https://opentdb.com/api_token.php?command=request").then(function(e){n.sessionToken=e.data.token,n.retrieveQuestions()}).catch(function(e){console.error(e)})},n.retrieveQuestions=function(){var e=g.EASY;n.state.scores>5&&n.state.scores<=10?e=g.MEDIUM:n.state.scores>10&&(e=g.HARD),F.a.get("https://opentdb.com/api.php?amount=1&type=multiple&encode=url3986&difficulty=".concat(e,"&token=").concat(n.sessionToken)).then(function(e){if(e.data.response_code){if(3!==e.data.response_code){var t="Error: Could not retrieve data from the server";throw n.setState({text:t}),Error(t)}n.getQuestion()}else{var s=decodeURIComponent(e.data.results[0].question),r=e.data.results[0].incorrect_answers.map(function(e){return decodeURIComponent(e)}),o=decodeURIComponent(e.data.results[0].correct_answer),i=n.shuffle(r.concat(o)),a=i.indexOf(o);n.setState({question:s,allAnswers:i,correctAnswerId:a,incorrectAnswers:r})}}).catch(function(e){console.error(e)})},n.shuffle=function(e){for(var t=e.length;t;t--){var n=Math.floor(Math.random()*t),s=[e[n],e[t-1]];e[t-1]=s[0],e[n]=s[1]}return e},n.hightlightCorrectAns=function(){n.state.allAnswerButtons[n.state.correctAnswerId].classList.remove("selected"),n.state.allAnswerButtons[n.state.correctAnswerId].classList.add("correct")},n.hightlightSelectedAns=function(e){n.state.allAnswerButtons[e].classList.add("selected"),n.state.allAnswerButtons[e].disabled=!0},n.hightlightWrongAns=function(e){n.state.allAnswerButtons[e].classList.remove("selected"),n.state.allAnswerButtons[e].classList.add("wrong"),n.state.allAnswerButtons[e].disabled=!0},n.prepareQuestion=function(e){n.getQuestion(),n.setState({usedLifelines:e,canAnswer:[!0,!0,!0,!0]})},n.finishGame=function(e){n.setState({usedLifelines:[!1,!1,!1],canAnswer:[!1,!1,!1,!1],canType:!0,text:e})},n.handleSelectAnswer=function(e){n.state.allAnswerButtons=document.querySelectorAll(".answerButton"),n.hightlightSelectedAns(e),n.setState({canAnswer:[!1,!1,!1,!1]}),setTimeout(function(){e===n.state.correctAnswerId?(n.hightlightCorrectAns(),n.setState({scores:n.state.scores+1,canAnswer:[!1,!1,!1,!1]}),n.state.scores<15?(n.setText("Correct answer!"),n.prepareQuestion(n.state.usedLifelines)):(n.setState({canAnswer:[!1,!1,!1,!1]}),n.setText("Congratulations! You've just won a  ".concat(p.guaranteedAmounts[n.state.scores-1])))):(n.hightlightCorrectAns(),n.hightlightWrongAns(e),n.finishGame("Wrong answer! You earn ".concat(p.guaranteedAmounts[n.state.scores])),n.setState({canAnswer:[!0,!0,!0,!0],scores:0}),setTimeout(function(){return n.startGame()},700)),setTimeout(function(){return n.setText()},2500)},1e3)},n.setText=function(e){n.setState({text:e})},n.handleFiftyFifty=function(){n.setText("Let's highlight two wrong answers!");var e=Object.assign(n.state.usedLifelines);e[0]=!0,n.setState({usedLifelines:e});var t=Object(a.a)(document.querySelectorAll(".answerButton"));t.splice(n.state.correctAnswerId,1),n.shuffle(t);for(var s=0;s<2;s++)t[s].disabled=!0,t[s].classList.add("wrong")},n.handlePhoneFriend=function(){var e=n.shuffle(Object(a.a)(document.querySelectorAll(".answerButton"))).filter(function(e){return!1===e.disabled}),t=Object.assign(n.state.usedLifelines);t[1]=!0,n.setState({usedLifelines:t,text:e[0].innerText})},n.handleAskAudience=function(){var e;if(100*Math.random()+1<=70)e=n.state.allAnswers.filter(function(e){return!n.state.incorrectAnswers.includes(e)});else for(var t=n.shuffle(Object(a.a)(document.querySelectorAll(".answerButton"))).filter(function(e){return!1===e.disabled}),s=0;s<t.length;s++){for(var r=0;r<n.state.incorrectAnswers.length;r++)if(t[s].innerText.split(": ")[1]===n.state.incorrectAnswers[r]){e=n.state.incorrectAnswers[r];break}if(e)break}var o=Object.assign(n.state.usedLifelines);o[2]=!0,n.setState({usedLifelines:o,text:e})},n.state={question:[],allAnswers:[],incorrectAnswers:[],correctAnswerId:null,canAnswer:[!1,!1,!1,!1],text:"",scores:0,usedLifelines:[!1,!1,!1]},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.startGame()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"level-panel"},r.a.createElement(y,{scores:this.state.scores,usedLifelines:this.state.usedLifelines,onClickFiftyFifty:this.handleFiftyFifty,onClickPhoneFriend:this.handlePhoneFriend,onClickAskAudience:this.handleAskAudience})),r.a.createElement("div",{className:"game-container"},r.a.createElement("h1",{className:"text"},this.state.text),r.a.createElement(b,{question:this.state.question}),r.a.createElement(h,{allAnswers:this.state.allAnswers,onSelectAnswer:this.handleSelectAnswer,canAnswer:this.state.canAnswer})))}}]),t}(s.Component);var j=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(L,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.ea80a929.chunk.js.map